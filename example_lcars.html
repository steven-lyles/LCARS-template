<!--
 * ======================================================================================
 * LCARS Template: Example
 * Interface based on the graphics of LCARS from Star Trek:
 * L.C.A.R.S - Library Computer Access & Retrieval System
 * Copyright Â© Steven M. Lyles
 * https://github.com/steven-lyles/LCARS-template
 * https://www.stevenlyles.net
 * =====================================================================================
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LCARS Example</title>
  <link id="font-main" href='' rel='stylesheet'>
  <link rel="icon" href="https://stevenlyles.net/assets/graphics/true-north.png">
  <link href="https://fonts.googleapis.com/css2?family=Antonio:wght@100..700&display=swap" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- Load any widget scripts  -->
  <script type="text/javascript" src="js/ww_utils.js"></script>
  <script src="./js/ww_logo.js"></script>
  <script src="./js/ww_now.js"></script>
  <script src="./js/ww_horz_bars_divider.js"></script>
  <script src="./js/ww_button_group.js"></script>
  <script src="./js/ww_button_stack.js"></script>
  <script src="js/ww_lcars_header.js"></script>
  <script src="js/ww_lcars_content.js"></script>
  <script src="js/ww_lcars_footer.js"></script>
  <style>
      html,
      body {
          height: 100%;
          background: black;
          color: #88bbff; /* ghost */
          font: 400 20px/1.5 "Antonio", "Arial Narrow", "Avenir Next Condensed", sans-serif;
          margin-left: 5px;
          margin-right: 10px;
          margin-bottom: 10px;
          overflow: hidden;
      }
      a {
          cursor: pointer;
          text-decoration: none;
          color: #2255ff;
      }
      .container-main {
          display: flex;
          flex-flow: column;
          height: 100%;
      }
      .row {
          display: flex;
          flex-direction: row;

          width: 100%;
          margin: 0 auto;
          overflow: hidden;
          align-self: flex-start;
      }
      .container-row {
          overflow: hidden;
      }
      .subject-row {
          overflow: visible;
          margin-left: 10px;
          margin-right: 20px;
          justify-content: space-between;
      }

      .container-panel {
          display: flex;
          flex-direction: column;
          align-items: center;
          height: 100%;
      }
      .container-content {
          /*display: flex;*/
          /*flex-direction: column;*/
          /*width: auto;*/

          flex: 1 1 auto;
          width: auto;
          height: 100%;
          min-width: 50%;

          /* dev only */
          /*background-color: grey;*/
      }
      .banner {
          text-transform: uppercase;
          text-align: right;
          line-height: 1.1;
          font-weight: 350;
          padding-top: 15px;
          margin-right: 5px;

          /* dev only */
          /*background-color: pink;*/
      }

      .section-spacer {
          height: 5px;
          width: 100%;
      }

      .header { flex: 0 1 auto; }
          /* The above is shorthand for:
          flex-grow: 0,
          flex-shrink: 1,
          flex-basis: auto
          */
      .subjects {
          flex: 0 1 auto;
          border-radius: 80px 0 0 0;

          /* dev only */
          /*background-color: pink;*/
          /*height: 100px;*/
          /*border: 1px dotted grey;*/
      }

      .pages {
          flex: 1 1 auto;
          border: 1px dotted grey;
      }

      .footer {
          flex: 0 1 100px;
          margin-bottom: 15px;
      }

      #subjects-control {
          /*border: 1px dotted grey;*/
          height: 42px;
          width: 100%;
      }
      .subject-title {
          font: 400 30px/1.5 "Antonio", sans-serif;
          font-weight: lighter;
          margin-right: 20px;
          position: relative;
          height: auto;
          padding-bottom: 10px;
          align-self: center;
      }

  </style>
</head>
<body>

  <div class="container-main">

    <!--
    ================================================================================================================
    HEADER Container
    ================================================================================================================ -->
    <div id="container-header" class="container-row header"></div>

    <div class="section-spacer"></div>

    <!--
    ================================================================================================================
    SUBJECT Container
    ================================================================================================================ -->
    <div class="row container-row subjects">
      <div id="subjects-panel" class="container-panel">
        <img id='subjects-icon' class='subjects-icon' src='./assets/ship.svg' alt=''/>
      </div>
      <div id="subjects-content" class="container-content">
        <div id="subjects-div"></div>
        <div class="subjects-panel-corner-bg">
          <div class="subjects-panel-corner"></div>
        </div>
        <div id="subjects-control" class="row subject-row">
          <div id="subjects-buttons"></div>
          <div id="subjects-title" class="subject-title">
            <span id="title-nav">ENGINEERING</span>
            &#149;
            <span id="title-subject">SYSTEMS</span>
          </div>
        </div>
      </div>
      
    </div>

    <div class="section-spacer"></div>

    <!--
    ================================================================================================================
    PAGES Container
    ================================================================================================================ -->
    <div class="row container-row pages">

    </div>

    <div class="section-spacer"></div>

    <!--
    ================================================================================================================
    FOOTER Container
    ================================================================================================================ -->
    <div id="container-footer" class="row container-row footer">

    </div> <!-- FOOTER Container -->

  </div> <!-- MAIN Container -->


<script>
  //-------
  // Get OS
  let os = Utils.get_os();
  console.log(`${os} Detected`);

  //----------------------
  // Load the configuration
  let json = $.getJSON({'url': "./config/example_lcars.json", 'async': false});
  let config = JSON.parse(json.responseText);
  console.log(`Martian is hex: ${config.color_map.martian.hex}`);

  //====================================================================================================================
  // HEADER
  //====================================================================================================================

  //-----------------------------------------------------------------------
  // Define callback for main nav buttons in marquee button group of header
  function button_group_nav_callback(index) {
    console.log(`${config.header.button_group_marquee_config.buttons[index].txt} button clicked`);
  }

  //-----------------------------------------------------------------------------------------------
  // Create instance of header passing container id, config, color map and callback for nav buttons
  let header = new LcarsHeader("container-header", config.header, config.color_map, button_group_nav_callback);

  //====================================================================================================================
  // SUBJECTS
  //====================================================================================================================

  $("#subjects-panel").css("width", `${config.subjects.panel.width}px`);
  $("#subjects-panel").css("min-width", `${config.subjects.panel.width}px`);
  $("#subjects-panel").css("height", `${config.subjects.height}px`);
  $("#subjects-panel").css("background-color", config.color_map[config.subjects.panel.background_color].hex);
  $("#subjects-panel").css("justify-content", "center");

  $("#subjects-icon").css("height", `${config.subjects.height*0.6}px`);

  $(".subjects-panel-corner-bg").css("width", `${config.subjects.corner.width}px`);
  $(".subjects-panel-corner-bg").css("height", `${config.subjects.corner.height}px`);
  $(".subjects-panel-corner-bg").css("background-color", config.color_map[config.subjects.corner.foreground_color].hex);

  $(".subjects-panel-corner").css("width", `${config.subjects.corner.width}px`);
  $(".subjects-panel-corner").css("height", `${config.subjects.corner.height}px`);
  $(".subjects-panel-corner").css("background-color", config.color_map[config.subjects.corner.background_color].hex);
  $(".subjects-panel-corner").css("border-radius", `${config.subjects.corner.width}px 0 0 0`);

  //--------------------------------------------
  // Define the callback for the subject buttons
  function button_subjects_callback(index) {
    console.log(`Subject Button ${index+1} Clicked`);
  }

  // $("#subject-icon").attr("src", config.subjects.panel.icon);

  let content_horz_div = new HorizontalBarsDivider("subjects-div", config.subjects.horz_bars_div, config.color_map);

  let subject_buttons = new ButtonGroup("subjects-buttons", config.subjects.buttons, config.color_map, button_subjects_callback);

  //====================================================================================================================
  // PAGES
  //====================================================================================================================

  //--------------------------------------------
  // Define the callback for the page buttons
  function button_stack_page_callback(index) {
    console.log(`Page Button ${index+1} Clicked`);
  }

  // let button_stack_pages = new ButtonStack("buttons-pages", config.content.button_stack_pages, config.color_map, button_stack_page_callback);

  //====================================================================================================================
  // FOOTER
  //====================================================================================================================
  let footer = new LcarsFooter("container-footer", config.footer, config.color_map);

  //========================================================================================
  $(document).ready(function() {

  });

</script>
</body>
</html>