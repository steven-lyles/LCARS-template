<!--
 * ======================================================================================
 * LCARS Template: Example
 * Interface based on the graphics of LCARS from Star Trek:
 * L.C.A.R.S - Library Computer Access & Retrieval System
 * Copyright Â© Steven M. Lyles
 * https://github.com/steven-lyles/LCARS-template
 * https://www.stevenlyles.net
 * =====================================================================================
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LCARS Example</title>
  <link id="font-main" href='' rel='stylesheet'>
  <link rel="icon" href="https://stevenlyles.net/assets/graphics/true-north.png">
  <link href="https://fonts.googleapis.com/css2?family=Antonio:wght@100..700&display=swap" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <style>
      html, body {
          height: 100%;
          background: black;
          color: #88bbff; // ghost
          font: 400 20px/1.5 "Antonio", "Arial Narrow", "Avenir Next Condensed", sans-serif;
          margin-left: 5px;
          margin-right: 10px;
          margin-bottom: 10px;
          overflow: hidden;
      }
      .temp-msg {
          text-align: center;
          padding-right: 10px;
          padding-left: 20px;
          font: 400 14px/1.5  "Avenir Next Condensed", sans-serif;
      }
      .container-main {
          display: flex;
          flex-direction: column;
          height: 100%;
      }
      .container-header {
          flex: 0 1 auto;
          height: 280px;
          margin-bottom: 5px;

          /* dev only remove */
          /*border-style: solid;*/
          /*border-width: 1px;*/
          /*border-color: #2255ff;*/
      }
      .container-content {
          flex: 1 1 auto;
          margin-bottom: 5px;

          /* dev only remove */
          /*border-style: solid;*/
          /*border-width: 1px;*/
          /*border-color: #2255ff;*/
      }
      .container-footer {
          flex: 0 1 100px;
          margin-bottom: 15px;
          overflow: hidden;

          /* dev only remove */
          /*border-style: solid;*/
          /*border-width: 1px;*/
          /*border-color: #2255ff;*/
      }
      .container-frames {
          display: flex;
          height: 100%;
          flex-direction: row;
          margin: 0 auto;
          overflow: hidden;
      }
      container-frame-left {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          text-align: center;
          font-size: 19px;
          font-weight: 700;
          color: black;

      }
      .container-frame-right {
          flex: 1 1 auto;
          height: 280px;
          width: auto;
          min-width: 50%;
      }
      .container-frame-left-top {
          width: 180px;
          min-width: 180px;
          height: 280px;
          background: #2255ff;
          border-radius: 0 0 0 90px;
      }
      .container-frame-left-middle {
          display: flex;
          flex-direction: column;
          width: 180px;
          height: 100%;
          min-width: 180px;
      }
      .container-frame-left-bottom {
          height: 100px;
          width: 180px;
          min-width: 180px;
          background: #2255ff;
          border-radius: 0 0 0 90px;
      }
      .panel-home {
          height: 100px;
          width: 180px;
          align-self: flex-start;
          background: #25f;
          border-radius: 90px 0 0 0;
          position: relative;
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          justify-content: flex-start;
      }
      .panel-buttons {
          background-color: #251e1a;
          width: 180px;
          height: auto;
      }
      .banner {
          font: 400 40px/1.5 "Antonio", "Arial Narrow", "Avenir Next Condensed", sans-serif;
          font-size: 2.8em;
          height: 60px;
          text-align: right;
          text-transform: uppercase;
          line-height: 1.1;
          font-weight: 350;
          color: #88bbff;
          padding: 15px 10px 0px 15px;
      }
      .container-marquee {
          width: 99%;
          height: 148px;
          margin-left: 10px;
          background-color: black;
          border-radius: 10px 10px 10px 10px;
      }
      .top-corner-bg {
          width: 40px;
          height: 44px;
          background: #2255ff;
          display: flex;
          flex-direction: row;
          align-items: self-start;
          justify-content: flex-end;
      }
      .top-corner {
          width: 40px;
          height: 44px;
          background: black;
          border-radius: 0 0 0 40px;
      }
      .corner-bg {
          width: 50px;
          height: 40px;
          background: #25f;
      }
      .corner {
          width: 50px;
          height: 40px;
          background: #000;
          border-radius: 40px 0 0 0;
      }
      .button-content-container {
          font: 400 22px/1.5 "Antonio", "Arial Narrow", "Avenir Next Condensed", sans-serif;
          width: 180px;
          height: 50px;
          /*background-color: deeppink;*/
          position: absolute;
          bottom: 0;
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: flex-end;
          margin-bottom: 2px;
          border-radius: 10px 10px 10px 10px;
      }
      .button-content-container:hover { cursor: pointer; }
      .menu-text {
          text-align: right;
          font-size: 1.0em;
          font-weight: 700;
          color: black;
          margin-right: 15px;
      }
      .menu-icon {
          height: 1.1em;
          /*margin-bottom: 5px;*/
          margin-right: 15px;
      }
      .panel-spacer {
          background-color: #2255ff;
          width: 180px;
          height: auto;
          flex: 1 1 auto;
      }
      .menu-spacer {
          height: 5px;
          background: black;
      }
      .footer-spacer {
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: right;
          height: 42px;
          margin-left: 20px;
          background-color: #2d2d2d;
          /*border-radius: 21px 0px 0px 21px;*/
          /*border-style: solid;*/
          /*border-width: 1px;*/
          /*border-color: #2d2d2d;*/
      }



      .subject-bar {
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: left;
          margin-left: 20px;
          height: 40px;
      }
      .container-subject-menu-buttons {
          display: flex;
          flex-direction: row;
          align-items: flex-end;
          justify-content: left;
          width: 65%;
          overflow: visible;


          /*background-color: #2d2d2d; */
          height: 70px;
          position: relative;
          top: -10px;
      }
      .subject-bar-spacer {
          flex: 1 1 auto;
          margin-right: 15px;
      }
      .subject-title-container {
          height: 40px;
          width: 35%;
          /*margin-left: 30px;*/

          /*background: #355E3B;*/
          padding-right: 20px;
          /*padding-bottom: 20px;*/
          position: relative;
      }
      .subject-title {
          font: 400 65px/1.5 "Antonio", "Arial Narrow", "Avenir Next Condensed", sans-serif;
          font-weight: lighter;
          /*overflow-y: visible;*/
          position: absolute;
          bottom: -15px;
          right: 20px;
      }

      .container-subject {
          font: 400 22px/1.5 "Antonio", "Arial Narrow", "Avenir Next Condensed", sans-serif;
          display: flex;
          flex-direction: row;
          /*align-items: top;*/
          justify-content: left;
          margin: 20px 20px 20px 20px;
          height: 100%;

          /*border-style: solid;*/
          /*border-width: 1px;*/
          /*border-color: #2d2d2d;*/
      }
      #os-msg { font-size: 0.8em; }

  </style>
</head>
<body>
<!-- The main container for the page -->
<div id="container-main" class="container-main">

  <!-- The header container for the page -->
  <div id="container-header" class="container-header">

    <div class="container-frames">

      <div id="panel-logo-time" class="container-frame-left container-frame-left-top">
        <!-- Logo widget will be added here -->
        <!-- Now widget will be added here -->
      </div>

      <div class="container-frame-right">
        <div class="banner">
          <span id="title-main"></span> &#149; <span id="title-secondary"></span>
        </div>
        <div id="container-marquee" class="container-marquee">
          <!-- Marquee widget added here... -->
        </div>
        <div class="top-corner-bg">
          <div class="top-corner"></div>
        </div>
        <div id="horz_divider_header">
          <!-- Horizontal Bars Divider Widget will appear here -->
        </div>
      </div>

    </div>

  </div> <!-- #container-header -->

  <div id="container-content" class="container-content">

    <div class="container-frames">
      <div class="container-frame-left-middle">
        <div class="panel-home">
          <div id="button-home" class="button-content-container" onclick="clickHomeCallback()">
            <span id="menu-home-txt" class="menu-text">HOME</span>
            <img id="menu-home-icon" class="menu-icon" src="./assets/home.svg" alt="HOME"/>
          </div>
        </div>

        <div id="panel-buttons" class="panel-buttons">
          <!-- Button Stack Widget will appear here -->
        </div>
        <div class="menu-spacer"></div>
        <div class="panel-spacer"></div>
      </div>


      <div class="container-frame-right">
        <div id="horz_divider_content_top">
          <!-- Horizontal Bars Divider Widget will appear here -->
        </div>
        <div class="corner-bg">
          <div class="corner"></div>
        </div>

        <div id="subject-bar" class="subject-bar">
          <div id="container-subject-menu-buttons" class="container-subject-menu-buttons">
<!--            <div class="temp-msg">Reserved for subject buttons &#8594;</div>-->
          </div>
          <div class="subject-bar-spacer"></div>
          <div id="subject-title-container" class="subject-title-container">
            <div id="subject-title" class="subject-title">WELCOME</div>
          </div>
        </div>

        <div id="content" class="container-subject">
          <div id="welcome-message-info">
            <p>Welcome User!</p>
            <p id="os-msg"></p>
          </div>
          <!--          <iframe src="test_results.html" name="targetframe" frameborder="0" scrolling="auto" width="100%"></iframe>-->
        </div>

      </div>
    </div>

  </div> <!-- #container-content -->

  <div id="container-footer" class="container-footer">
    <div class="container-frames">
      <div class="container-frame-left container-frame-left-bottom">
      </div>
      <div class="container-frame-right">
        <div class="footer-spacer">
          <div class="temp-msg">&#8592; Reserved for page footer</div>
        </div>
        <div class="top-corner-bg">
          <div class="top-corner"></div>
        </div>
        <div id="horz_divider_footer">
          <!-- Horizontal Bars Divider Widget will appear here -->
        </div>
      </div>
    </div>

  </div>

</div> <!-- #container-main -->

<!--<script type="text/javascript" src="js/lcars.js"></script>-->
<script type="text/javascript" src="js/ww_logo.js"></script>
<script type="text/javascript" src="js/ww_now.js"></script>
<script type="text/javascript" src="./js/horz_bars_divider.js"></script>
<script type="text/javascript" src="./js/button_group.js"></script>
<script type="text/javascript" src="./js/button_stack.js"></script>
<script type="text/javascript" src="./js/detect_os.js"></script>
<script>

  const detect = new DetectOS();

  let os = detect.OS;
  function mobile_os() {
      let mobile = false;
      if (os == "iPad OS" ||
          os == "iOS" ||
          os == "Android") {
         mobile = true;
      }
      return mobile;
  }

  // Load the color map
  let json = $.getJSON({'url': "./config/color_map.json", 'async': false});
  let color = JSON.parse(json.responseText);

  let logo_config = {
      "height"           : "130px",                     // widget height
      "width"            : "100%",                       // % of container or pixel value (e.g. 100px)
      "logo_image"       : "./assets/sample-logo.svg", // logo image
      "logo_size"        : "85%",                       // logo size as percentage of height
      "background_color" : "#5E7279",                   // dusk
      "url"              : "https://stevenlyles.net",   // what to open when clicked
      "spacer_size"      : 5,                           // px border at bottom
      "spacer_color"     : "black"                      // border at bottom color
  }
  let logo_widget = new Logo("panel-logo-time", logo_config);

  let now_config = {
      "font_size"        : "28",      // px
      "font_color"       : "black",
      "background_color" : "#2255ff", // evening
      "width"            : "100%",    // % of container or pixel value (e.g. 100px)
      "border_radius"    : "22"       // curved corners in pixels (0 for square)
  }
  let now_widget = new Now("panel-logo-time", now_config);

  let horz_divider_header_config = {
      "height"    : 14,        // in pixels; vertical height of divider bars
      "gap_size"  : 5,         // in pixels; size of gap between bars (always on right)
      "gap_color" : "black",   // color of gap between bars; should match page background
      "bars" : [
          {
              "flex": true,      // bar can stretch to width or shrink as window is resized
              "half": false,     // bar is half height as a demarcation
              "width": "320px",  // horizontal width of bar
              "color": "evening" // bar color (reference color_map.json)
          },
          {
              "flex": false,
              "half": false,
              "width": "40px",
              "color": "sunflower"
          },
          {
              "flex": false,
              "half": false,
              "width": "200px",
              "color": "cool"
          },
          {
              "flex": true,
              "half": false,
              "width": "200px",
              "color": "evening"
          },
          {
              "flex": false,
              "half": false,
              "width": "50px",
              "color": "galaxy"
          }
      ]
  }
  let horz_divider_header = new HorizontalBarsDivider("horz_divider_header", horz_divider_header_config, color);

  let horz_divider_content_top_config = {
      "height"    : 14,        // in pixels; vertical height of divider bars
      "gap_size"  : 5,         // in pixels; size of gap between bars (always on right)
      "gap_color" : "black",   // color of gap between bars; should match page background
      "bars" : [
          {
              "flex": true,      // bar can stretch to width or shrink as window is resized
              "half": false,     // bar is half height as a demarcation
              "width": "320px",  // horizontal width of bar
              "color": "evening" // bar color (reference color_map.json)
          },
          {
              "flex": false,
              "half": false,
              "width": "40px",
              "color": "martian"
          },
          {
              "flex": false,
              "half": true,
              "location": "top",
              "width": "200px",
              "color": "moonbeam"
          },
          {
              "flex": true,
              "half": false,
              "width": "200px",
              "color": "midnight"
          },
          {
              "flex": false,
              "half": false,
              "width": "50px",
              "color": "galaxy"
          }
      ]
  }
  let horz_divider_content_top = new HorizontalBarsDivider("horz_divider_content_top", horz_divider_content_top_config, color);

  let horz_divider_footer_config = {
      "height"    : 14,        // in pixels; vertical height of divider bars
      "gap_size"  : 5,         // in pixels; size of gap between bars (always on right)
      "gap_color" : "black",   // color of gap between bars; should match page background
      "bars" : [
          {
              "flex": true,      // bar can stretch to width or shrink as window is resized
              "half": false,     // bar is half height as a demarcation
              "width": "320px",  // horizontal width of bar
              "color": "evening" // bar color (reference color_map.json)
          },
          {
              "flex": false,
              "half": false,
              "width": "40px",
              "color": "tangerine"
          },
          {
              "flex": false,
              "half": true,
              "location" : "top",
              "width": "200px",
              "color": "moonbeam"
          },
          {
              "flex": true,
              "half": false,
              "width": "200px",
              "color": "midnight"
          },
          {
              "flex": false,
              "half": false,
              "width": "50px",
              "color": "galaxy"
          }
      ]
  }
  let horz_divider_footer = new HorizontalBarsDivider("horz_divider_footer", horz_divider_footer_config, color);

  let button_group_marquee_config = {
      "font" : "400 20px/1.5 \"Antonio\", \"Arial Narrow\", \"Avenir Next Condensed\", sans-serif",
      "font-size" : "1.2em",
      "font_color" : "black",
      "background_color" : "parchment",
      "width" : "150px",
      "height": "50px",
      "justify_content" : "right",
      "border_radius": "40px",
      "hover_color" : "martian",
      "hover_outline" : "yellow",
      "active_color" :  "martian",
      "inactive_color" : "galaxy",
      "selected_index" : 0,
      "buttons" : [
          { "txt": "Snoopy",        "active" : true },
          { "txt": "Woodstock",     "active" : true },
          { "txt": "Linus",         "active" : true },
          { "txt": "Charlie Brown", "active" : false },
          { "txt": "Sally",         "active" : true },
          { "txt": "Lucy",          "active" : true }
      ]
  }
  let button_group_marquee = new ButtonGroup("container-marquee", button_group_marquee_config, color, marquee_button_callback);

  //========================================================================================
  function clickHomeCallback() {
      console.log("Home button clicked");
  }

  //========================================================================================
  function marquee_button_callback(index) {
      console.log(`${button_group_marquee_config.buttons[index].txt} button clicked`);
  }

  let button_stack_config = {
      "font_size" : 22, // px
      "font_color": "black",
      "width" : 180, // px
      "height" : 70,
      "border_radius" : "5px",
      "hover_color" : "martian",
      "button" : [
          { "txt" : "NETWORK",  "color" : "pumpkinshade", "icon" : "./assets/stations.svg"},
          { "txt" : "SETTINGS", "color" : "sunflower",    "icon" : "./assets/gear.svg"},
          { "txt" : "ARTICLES", "color" : "moonbeam",     "icon" : "./assets/results2.svg"},
      ]
  }

  //========================================================================================
  function button_page_selection_callback(index) {
      console.log(`${button_stack_config.button[index].txt} button clicked`);
      $("#subject-title").text(button_stack_config.button[index].txt);
  }
  let button_stack = new ButtonStack("panel-buttons", button_stack_config, color, button_page_selection_callback);

  let button_group_page_config = {
      "font" : "400 15px/1.5 \"Antonio\", \"Arial Narrow\", \"Avenir Next Condensed\", sans-serif",
      "font-size" : "1.0em",
      "font_color" : "black",
      "background_color" : "evening",
      "width" : "100px",
      "height": "25px",
      "justify_content" : "left",
      "border_radius": "20px",
      "hover_color" : "martian",
      "hover_outline" : "martian",
      "active_color" :  "martian",
      "inactive_color" : "galaxy",
      "selected_index" : 0,
      "buttons" : [
          { "txt": "WELCOME", "active" : true },
          { "txt": "LOGIN",   "active" : true },
          { "txt": "LOGOUT",  "active" : true }
      ]
  }
  let button_group_page = new ButtonGroup("container-subject-menu-buttons", button_group_page_config, color, page_button_callback);

  //========================================================================================
  function page_button_callback(index) {
      console.log(`Page button ${button_group_page_config.buttons[index].txt} clicked`);
      switch(index) {
          case 0:
              $("#os-msg").text(`${detect.OS} detected`);
              break;
          case 1:
              $("#os-msg").text("Please LOG IN");
              break;
          case 2:
              $("#os-msg").text("Please LOG OUT");
              break;
          default:
              break;
      }
  }

  console.log(detect.OS);
  $("#os-msg").text(`${detect.OS} detected`); // navigator.userAgent

  function set_home_back() {
      $("#menu-home-txt").css("color", "black");
      $("#menu-home-icon").attr("src", "./assets/home.svg");
  }

  //========================================================================================
  $(document).ready(function() {
       $("#title-main").text("LCARS");
       $("#title-secondary").text("ONLINE");

      $("#button-home").hover(function(){
            $("#menu-home-txt").css("color", color.martian.hex);
            $("#menu-home-icon").attr("src", "./assets/home-active.svg");
      }, function(){
            $("#menu-home-txt").css("color", "black");
            $("#menu-home-icon").attr("src", "./assets/home.svg");
      });


      $("#button-home").click(function () {
          $("#subject-title").text("WELCOME");

          $("#menu-home-txt").css("color", color.martian.hex);
          $("#menu-home-icon").attr("src", "./assets/home-active.svg");

          setTimeout(function() { set_home_back(); }, 500);
      });


  });

</script>
</body>
</html>